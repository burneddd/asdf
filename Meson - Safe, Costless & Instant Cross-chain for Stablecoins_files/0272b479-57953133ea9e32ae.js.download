"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{28880:function(e,t,n){var r,i=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of o(t))u.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(c(e)):{},l(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),g=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},p=(e,t,n)=>(g(e,t,"read from private field"),n?n.call(e):t.get(e)),h=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},b=(e,t,n,r)=>(g(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),y=(e,t,n)=>(g(e,t,"access private method"),n),f={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(f,{ADD_STAKE_FUN_NAME:()=>Ga,ADD_STAKE_LOCKED_COIN_FUN_NAME:()=>$a,ARGUMENT:()=>Is,ARGUMENT_INNER:()=>ys,AppId:()=>Oa,Apy:()=>Hn,AuthorityName:()=>dt,AuthorityQuorumSignInfo:()=>Qe,AuthoritySignature:()=>Xe,Balance:()=>Zn,BalanceChange:()=>wt,BuilderCallArg:()=>xs,CALL_ARG:()=>Ss,COIN_TYPE_ARG_REGEX:()=>gn,Checkpoint:()=>Or,CheckpointDigest:()=>kr,CheckpointedObjectId:()=>Be,Coin:()=>bn,CoinBalance:()=>yr,CoinMetadataStruct:()=>hn,CoinStruct:()=>hr,CoinSupply:()=>fr,CommitteeInfo:()=>lr,Connection:()=>Di,Contents:()=>ar,ContentsFields:()=>ir,ContentsFieldsWithdraw:()=>sr,DEFAULT_CLIENT_OPTIONS:()=>Bi,DEFAULT_ED25519_DERIVATION_PATH:()=>di,DEFAULT_SECP256K1_DERIVATION_PATH:()=>Qr,DelegatedStake:()=>er,Delegation:()=>fn,DelegationStakingPool:()=>cr,DelegationStakingPoolFields:()=>or,DevInspectResults:()=>lt,DisplayFieldsBackwardCompatibleResponse:()=>ie,DisplayFieldsResponse:()=>re,DryRunTransactionBlockResponse:()=>kt,ENUM_KIND:()=>Es,Ed25519Keypair:()=>gi,Ed25519PublicKey:()=>Ur,EndOfEpochInfo:()=>Sr,EpochId:()=>Ve,EpochInfo:()=>wr,EpochPage:()=>vr,ErrorResponse:()=>Si,EventId:()=>_e,ExecutionStatus:()=>nt,ExecutionStatusType:()=>tt,FaucetCoinInfo:()=>En,FaucetRateLimitError:()=>fi,FaucetResponse:()=>Cn,GasCostSummary:()=>jr,GenericAuthoritySignature:()=>Ze,Genesis:()=>We,GetOwnedObjectsResponse:()=>ce,ID_STRUCT_NAME:()=>sn,Inputs:()=>Rs,IntentScope:()=>Aa,IntentVersion:()=>Ba,JsonRpcClient:()=>wi,JsonRpcProvider:()=>Ea,LEGACY_PRIVATE_KEY_SIZE:()=>ni,MIST_PER_SUI:()=>ee,MOVE_STDLIB_ADDRESS:()=>tn,MakeMoveVecTransaction:()=>rs,MergeCoinsTransaction:()=>ns,MoveCallMetric:()=>Mn,MoveCallMetrics:()=>Dn,MoveCallSuiTransaction:()=>$e,MoveCallTransaction:()=>Qi,MovePackageContent:()=>L,OBJECT_ARG:()=>vs,OBJECT_MODULE_NAME:()=>nn,OPTION:()=>ms,ObjectCallArg:()=>_s,ObjectContentFields:()=>$,ObjectDigest:()=>te,ObjectId:()=>B,ObjectOwner:()=>_,ObjectStatus:()=>oe,ObjectTransactionArgument:()=>Hi,ObjectType:()=>q,OwnedObjectRef:()=>rt,PAY_JOIN_COIN_FUNC_NAME:()=>dn,PAY_MODULE_NAME:()=>un,PAY_SPLIT_COIN_VEC_FUNC_NAME:()=>ln,PRIVATE_KEY_SIZE:()=>ti,PROGRAMMABLE_CALL:()=>Os,PROGRAMMABLE_CALL_INNER:()=>js,PROGRAMMABLE_TX_BLOCK:()=>Ts,PaginatedCoins:()=>br,PaginatedEvents:()=>Re,PaginatedObjectsResponse:()=>Ae,PaginatedTransactionResponse:()=>jt,ProgrammableTransaction:()=>Je,PublishTransaction:()=>is,PureCallArg:()=>Ps,PureTransactionArgument:()=>Zi,RPCError:()=>bi,RPCValidationError:()=>yi,RawSigner:()=>xa,SIGNATURE_FLAG_TO_SCHEME:()=>Rr,SIGNATURE_SCHEME_TO_FLAG:()=>xr,SUI_ADDRESS_LENGTH:()=>M,SUI_CLOCK_OBJECT_ID:()=>cn,SUI_DECIMALS:()=>Q,SUI_FRAMEWORK_ADDRESS:()=>en,SUI_SYSTEM_ADDRESS:()=>Qt,SUI_SYSTEM_MODULE_NAME:()=>Wa,SUI_SYSTEM_STATE_OBJECT_ID:()=>Fa,SUI_TYPE_ARG:()=>an,Secp256k1Keypair:()=>ei,Secp256k1PublicKey:()=>qr,SequenceNumber:()=>P,SignerWithProvider:()=>_a,SplitCoinsTransaction:()=>ts,StakeObject:()=>Qn,StakeSubsidy:()=>nr,StakeSubsidyFields:()=>tr,SubscriptionEvent:()=>De,SubscriptionId:()=>Me,SuiAddress:()=>A,SuiArgument:()=>Ge,SuiCallArg:()=>ze,SuiChangeEpoch:()=>qe,SuiConsensusCommitPrologue:()=>Fe,SuiEvent:()=>xe,SuiGasData:()=>W,SuiJsonValue:()=>x,SuiMoveAbilitySet:()=>_n,SuiMoveFunctionArgType:()=>On,SuiMoveFunctionArgTypes:()=>Bn,SuiMoveModuleId:()=>An,SuiMoveNormalizedField:()=>Fn,SuiMoveNormalizedFunction:()=>qn,SuiMoveNormalizedModule:()=>Gn,SuiMoveNormalizedModules:()=>$n,SuiMoveNormalizedStruct:()=>Wn,SuiMoveNormalizedStructType:()=>Vn,SuiMoveNormalizedType:()=>Un,SuiMoveNormalizedTypeParameterType:()=>Rn,SuiMoveObject:()=>z,SuiMovePackage:()=>J,SuiMoveStructTypeParameter:()=>xn,SuiMoveVisibility:()=>Pn,SuiObjectChange:()=>St,SuiObjectChangeCreated:()=>mt,SuiObjectChangeDeleted:()=>yt,SuiObjectChangeMutated:()=>bt,SuiObjectChangePublished:()=>pt,SuiObjectChangeTransferred:()=>ht,SuiObjectChangeWrapped:()=>ft,SuiObjectData:()=>se,SuiObjectDataOptions:()=>ae,SuiObjectInfo:()=>G,SuiObjectRef:()=>F,SuiObjectResponse:()=>ue,SuiObjectResponseError:()=>ne,SuiParsedData:()=>Y,SuiRawData:()=>Z,SuiRawMoveObject:()=>H,SuiRawMovePackage:()=>X,SuiSupplyFields:()=>rr,SuiSystemStateSummary:()=>gr,SuiSystemStateUtil:()=>za,SuiTransaction:()=>Le,SuiTransactionBlock:()=>gt,SuiTransactionBlockData:()=>He,SuiTransactionBlockKind:()=>Ye,SuiTransactionBlockResponse:()=>vt,SuiTransactionBlockResponseOptions:()=>Tt,SuiValidatorSummary:()=>dr,TRANSACTION:()=>Cs,TRANSACTION_INNER:()=>ks,TYPE_TAG:()=>ws,TransactionArgument:()=>Yi,TransactionBlock:()=>wa,TransactionBlockInput:()=>zi,TransactionDigest:()=>C,TransactionEffects:()=>st,TransactionEffectsDigest:()=>I,TransactionEffectsModifiedAtVersions:()=>it,TransactionEventDigest:()=>O,TransactionEvents:()=>at,TransactionType:()=>cs,Transactions:()=>ls,TransferObjectsTransaction:()=>es,TypeTagSerializer:()=>bs,UID_STRUCT_NAME:()=>rn,UpgradePolicy:()=>ss,UpgradeTransaction:()=>as,VALIDATORS_EVENTS_QUERY:()=>on,VECTOR:()=>fs,ValidResponse:()=>mi,Validators:()=>ur,ValidatorsApy:()=>Xn,WITHDRAW_STAKE_FUN_NAME:()=>La,WebsocketClient:()=>Pi,assert:()=>Ya.assert,bcs:()=>jn,builder:()=>Bs,bytesEqual:()=>Kr,devnetConnection:()=>Ui,extractMutableReference:()=>Ln,extractReference:()=>zn,extractStructTag:()=>Jn,formatAddress:()=>Ra,formatDigest:()=>Ma,fromB64:()=>Ja.fromB64,fromExportedKeypair:()=>ri,fromSerializedSignature:()=>Dr,getChangeEpochTransaction:()=>xt,getConsensusCommitPrologueTransaction:()=>Rt,getCreatedObjects:()=>Lt,getEventPackage:()=>Ue,getEventSender:()=>Ne,getEvents:()=>$t,getExecutionStatus:()=>Kt,getExecutionStatusError:()=>Vt,getExecutionStatusGasSummary:()=>qt,getExecutionStatusType:()=>Ut,getGasData:()=>Bt,getIdFromCallArg:()=>Ms,getMoveObject:()=>Ce,getMoveObjectType:()=>ke,getMovePackageContent:()=>Oe,getNewlyCreatedCoinRefsAfterSplit:()=>Jt,getObjectChanges:()=>Yt,getObjectDeletedResponse:()=>de,getObjectDisplay:()=>we,getObjectFields:()=>Ee,getObjectId:()=>he,getObjectNotExistsResponse:()=>ge,getObjectOwner:()=>Se,getObjectPreviousTransactionDigest:()=>me,getObjectReference:()=>pe,getObjectType:()=>fe,getObjectVersion:()=>be,getProgrammableTransaction:()=>Nt,getPublishedObjectChanges:()=>Ht,getPureSerializationType:()=>zs,getSharedObjectInitialVersion:()=>ve,getSharedObjectInput:()=>Ds,getSuiObjectData:()=>le,getTimestampFromTransactionResponse:()=>zt,getTotalGasUsed:()=>Ft,getTotalGasUsedUpperBound:()=>Wt,getTransaction:()=>Et,getTransactionDigest:()=>Ct,getTransactionEffects:()=>Gt,getTransactionGasBudget:()=>_t,getTransactionGasObject:()=>At,getTransactionGasPrice:()=>Pt,getTransactionKind:()=>Mt,getTransactionKindName:()=>Dt,getTransactionSender:()=>Ot,getTransactionSignature:()=>It,getTransactionType:()=>us,getWebsocketUrl:()=>Oi,hasPublicTransfer:()=>Ie,is:()=>Ya.is,isImmutableObject:()=>je,isMutableSharedObjectInput:()=>Us,isObjectDataFull:()=>pn,isPureArg:()=>Sn,isSharedObject:()=>Te,isSharedObjectInput:()=>Ns,isSuiObjectResponse:()=>ye,isTxContext:()=>Gs,isValidBIP32Path:()=>Lr,isValidHardenedPath:()=>$r,isValidSuiAddress:()=>D,isValidSuiObjectId:()=>N,isValidTransactionDigest:()=>R,localnetConnection:()=>Ni,messageWithIntent:()=>Pa,mnemonicToSeed:()=>zr,mnemonicToSeedHex:()=>Jr,normalizeSuiAddress:()=>U,normalizeSuiObjectId:()=>K,publicKeyFromSerialized:()=>Vr,requestSuiFromFaucet:()=>_i,testnetConnection:()=>Ki,toB64:()=>Ja.toB64,toSerializedSignature:()=>Mr,verifyMessage:()=>qa}),e.exports=(r=f,l(s({},"__esModule",{value:!0}),r));var m=d(n(50780)),S=n(76990),w=n(23594),v=n(76990),T=n(45808),j=n(72654),k=n(20962),E=n(76990),C=(0,k.string)(),I=(0,k.string)(),O=(0,k.string)(),B=(0,k.string)(),A=(0,k.string)(),P=(0,k.string)(),_=(0,k.union)([(0,k.object)({AddressOwner:A}),(0,k.object)({ObjectOwner:A}),(0,k.object)({Shared:(0,k.object)({initial_shared_version:(0,k.number)()})}),(0,k.literal)("Immutable")]),x=(0,k.define)("SuiJsonValue",(()=>!0));function R(e){try{return 32===(0,E.fromB58)(e).length}catch(t){return!1}}var M=32;function D(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}(e)&&function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)===M}function N(e){return D(e)}function U(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(2*M,"0")}`}function K(e,t=!1){return U(e,t)}var V=n(20962),q=(0,V.union)([(0,V.string)(),(0,V.literal)("package")]),F=(0,V.object)({digest:C,objectId:(0,V.string)(),version:(0,V.union)([(0,V.number)(),(0,V.string)()])}),W=(0,V.object)({payment:(0,V.array)(F),owner:(0,V.string)(),price:(0,V.string)(),budget:(0,V.string)()}),G=(0,V.assign)(F,(0,V.object)({type:(0,V.string)(),owner:_,previousTransaction:C})),$=(0,V.record)((0,V.string)(),(0,V.any)()),L=(0,V.record)((0,V.string)(),(0,V.string)()),z=(0,V.object)({type:(0,V.string)(),fields:$,hasPublicTransfer:(0,V.boolean)()}),J=(0,V.object)({disassembled:L}),Y=(0,V.union)([(0,V.assign)(z,(0,V.object)({dataType:(0,V.literal)("moveObject")})),(0,V.assign)(J,(0,V.object)({dataType:(0,V.literal)("package")}))]),H=(0,V.object)({type:(0,V.string)(),hasPublicTransfer:(0,V.boolean)(),version:P,bcsBytes:(0,V.array)((0,V.number)())}),X=(0,V.object)({id:B,moduleMap:(0,V.record)((0,V.string)(),(0,V.string)())}),Z=(0,V.union)([(0,V.assign)(z,(0,V.object)({dataType:(0,V.literal)("moveObject")})),(0,V.assign)(X,(0,V.object)({dataType:(0,V.literal)("package")}))]),Q=9,ee=BigInt(1e9),te=(0,V.string)(),ne=(0,V.object)({code:(0,V.string)(),error:(0,V.optional)((0,V.string)()),object_id:(0,V.optional)(B),version:(0,V.optional)(P),digest:(0,V.optional)(te)}),re=(0,V.object)({data:(0,V.nullable)((0,V.record)((0,V.string)(),(0,V.string)())),error:(0,V.nullable)(ne)}),ie=(0,V.union)([re,(0,V.optional)((0,V.record)((0,V.string)(),(0,V.string)()))]),se=(0,V.object)({objectId:B,version:P,digest:te,type:(0,V.optional)((0,V.string)()),content:(0,V.optional)(Y),bcs:(0,V.optional)(Z),owner:(0,V.optional)(_),previousTransaction:(0,V.optional)(C),storageRebate:(0,V.optional)((0,V.string)()),display:(0,V.optional)(ie)}),ae=(0,V.object)({showType:(0,V.optional)((0,V.boolean)()),showContent:(0,V.optional)((0,V.boolean)()),showBcs:(0,V.optional)((0,V.boolean)()),showOwner:(0,V.optional)((0,V.boolean)()),showPreviousTransaction:(0,V.optional)((0,V.boolean)()),showStorageRebate:(0,V.optional)((0,V.boolean)()),showDisplay:(0,V.optional)((0,V.boolean)())}),oe=(0,V.union)([(0,V.literal)("Exists"),(0,V.literal)("notExists"),(0,V.literal)("Deleted")]),ce=(0,V.array)(G),ue=(0,V.object)({data:(0,V.optional)(se),error:(0,V.optional)(ne)});function le(e){return e.data}function de(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){const t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}function ge(e){if(e.error&&"object_id"in e.error&&!("version"in e.error)&&!("digest"in e.error))return e.error.object_id}function pe(e){if("reference"in e)return e.reference;const t=le(e);return t?{objectId:t.objectId,version:t.version,digest:t.digest}:de(e)}function he(e){return"objectId"in e?e.objectId:pe(e)?.objectId??ge(e)}function be(e){return"version"in e?e.version:pe(e)?.version}function ye(e){return void 0!==e.data}function fe(e){const t=ye(e)?e.data:e;return!t?.type&&"data"in e?"package"===t?.content?.dataType?"package":ke(e):t?.type}function me(e){return le(e)?.previousTransaction}function Se(e){return(0,V.is)(e,_)?e:le(e)?.owner}function we(e){const t=le(e)?.display;return t?(0,V.is)(t,re)?t:{data:t,error:null}:{data:null,error:null}}function ve(e){const t=Se(e);return"object"===typeof t&&"Shared"in t?t.Shared.initial_shared_version:void 0}function Te(e){const t=Se(e);return"object"===typeof t&&"Shared"in t}function je(e){return"Immutable"===Se(e)}function ke(e){return Ce(e)?.type}function Ee(e){return"fields"in e?e.fields:Ce(e)?.fields}function Ce(e){const t="data"in e?le(e):e;if(t&&function(e){return void 0!==e.content}(t)&&"moveObject"===t.content.dataType)return t.content}function Ie(e){return Ce(e)?.hasPublicTransfer??!1}function Oe(e){if("disassembled"in e)return e.disassembled;const t=le(e);return"package"===t?.content?.dataType?t.content.disassembled:void 0}var Be=(0,V.object)({objectId:B,atCheckpoint:(0,V.optional)((0,V.number)())}),Ae=(0,V.object)({data:(0,V.array)(ue),nextCursor:(0,V.union)([(0,V.nullable)(B),(0,V.nullable)(Be)]),hasNextPage:(0,V.boolean)()}),Pe=n(20962),_e=(0,Pe.object)({txDigest:C,eventSeq:P}),xe=(0,Pe.object)({id:_e,packageId:B,transactionModule:(0,Pe.string)(),sender:A,type:(0,Pe.string)(),parsedJson:(0,Pe.optional)((0,Pe.record)((0,Pe.string)(),(0,Pe.any)())),bcs:(0,Pe.optional)((0,Pe.string)()),timestampMs:(0,Pe.optional)((0,Pe.string)())}),Re=(0,Pe.object)({data:(0,Pe.array)(xe),nextCursor:(0,Pe.nullable)(_e),hasNextPage:(0,Pe.boolean)()}),Me=(0,Pe.number)(),De=(0,Pe.object)({subscription:Me,result:xe});function Ne(e){return e.sender}function Ue(e){return e.packageId}var Ke=n(20962),Ve=(0,Ke.string)(),qe=(0,Ke.object)({epoch:Ve,storage_charge:(0,Ke.string)(),computation_charge:(0,Ke.string)(),storage_rebate:(0,Ke.string)(),epoch_start_timestamp_ms:(0,Ke.optional)((0,Ke.string)())}),Fe=(0,Ke.object)({epoch:Ve,round:(0,Ke.string)(),commit_timestamp_ms:(0,Ke.string)()}),We=(0,Ke.object)({objects:(0,Ke.array)(B)}),Ge=(0,Ke.union)([(0,Ke.literal)("GasCoin"),(0,Ke.object)({Input:(0,Ke.number)()}),(0,Ke.object)({Result:(0,Ke.number)()}),(0,Ke.object)({NestedResult:(0,Ke.tuple)([(0,Ke.number)(),(0,Ke.number)()])})]),$e=(0,Ke.object)({arguments:(0,Ke.optional)((0,Ke.array)(Ge)),type_arguments:(0,Ke.optional)((0,Ke.array)((0,Ke.string)())),package:B,module:(0,Ke.string)(),function:(0,Ke.string)()}),Le=(0,Ke.union)([(0,Ke.object)({MoveCall:$e}),(0,Ke.object)({TransferObjects:(0,Ke.tuple)([(0,Ke.array)(Ge),Ge])}),(0,Ke.object)({SplitCoins:(0,Ke.tuple)([Ge,(0,Ke.array)(Ge)])}),(0,Ke.object)({MergeCoins:(0,Ke.tuple)([Ge,(0,Ke.array)(Ge)])}),(0,Ke.object)({Publish:(0,Ke.union)([(0,Ke.tuple)([J,(0,Ke.array)(B)]),(0,Ke.array)(B)])}),(0,Ke.object)({Upgrade:(0,Ke.union)([(0,Ke.tuple)([J,(0,Ke.array)(B),B,Ge]),(0,Ke.tuple)([(0,Ke.array)(B),B,Ge])])}),(0,Ke.object)({MakeMoveVec:(0,Ke.tuple)([(0,Ke.nullable)((0,Ke.string)()),(0,Ke.array)(Ge)])})]),ze=(0,Ke.union)([(0,Ke.object)({type:(0,Ke.literal)("pure"),valueType:(0,Ke.optional)((0,Ke.string)()),value:x}),(0,Ke.object)({type:(0,Ke.literal)("object"),objectType:(0,Ke.literal)("immOrOwnedObject"),objectId:B,version:P,digest:te}),(0,Ke.object)({type:(0,Ke.literal)("object"),objectType:(0,Ke.literal)("sharedObject"),objectId:B,initialSharedVersion:P,mutable:(0,Ke.boolean)()})]),Je=(0,Ke.object)({transactions:(0,Ke.array)(Le),inputs:(0,Ke.array)(ze)}),Ye=(0,Ke.union)([(0,Ke.assign)(qe,(0,Ke.object)({kind:(0,Ke.literal)("ChangeEpoch")})),(0,Ke.assign)(Fe,(0,Ke.object)({kind:(0,Ke.literal)("ConsensusCommitPrologue")})),(0,Ke.assign)(We,(0,Ke.object)({kind:(0,Ke.literal)("Genesis")})),(0,Ke.assign)(Je,(0,Ke.object)({kind:(0,Ke.literal)("ProgrammableTransaction")}))]),He=(0,Ke.object)({messageVersion:(0,Ke.literal)("v1"),transaction:Ye,sender:A,gasData:W}),Xe=(0,Ke.string)(),Ze=(0,Ke.union)([Xe,(0,Ke.array)(Xe)]),Qe=(0,Ke.object)({epoch:Ve,signature:Ze,signers_map:(0,Ke.array)((0,Ke.number)())}),et=(0,Ke.object)({computationCost:(0,Ke.string)(),storageCost:(0,Ke.string)(),storageRebate:(0,Ke.string)(),nonRefundableStorageFee:(0,Ke.string)()}),tt=(0,Ke.union)([(0,Ke.literal)("success"),(0,Ke.literal)("failure")]),nt=(0,Ke.object)({status:tt,error:(0,Ke.optional)((0,Ke.string)())}),rt=(0,Ke.object)({owner:_,reference:F}),it=(0,Ke.object)({objectId:B,sequenceNumber:P}),st=(0,Ke.object)({messageVersion:(0,Ke.literal)("v1"),status:nt,executedEpoch:Ve,modifiedAtVersions:(0,Ke.optional)((0,Ke.array)(it)),gasUsed:et,sharedObjects:(0,Ke.optional)((0,Ke.array)(F)),transactionDigest:C,created:(0,Ke.optional)((0,Ke.array)(rt)),mutated:(0,Ke.optional)((0,Ke.array)(rt)),unwrapped:(0,Ke.optional)((0,Ke.array)(rt)),deleted:(0,Ke.optional)((0,Ke.array)(F)),unwrapped_then_deleted:(0,Ke.optional)((0,Ke.array)(F)),wrapped:(0,Ke.optional)((0,Ke.array)(F)),gasObject:rt,eventsDigest:(0,Ke.optional)(O),dependencies:(0,Ke.optional)((0,Ke.array)(C))}),at=(0,Ke.array)(xe),ot=(0,Ke.tuple)([(0,Ke.array)((0,Ke.number)()),(0,Ke.string)()]),ct=(0,Ke.tuple)([Ge,(0,Ke.array)((0,Ke.number)()),(0,Ke.string)()]),ut=(0,Ke.object)({mutableReferenceOutputs:(0,Ke.optional)((0,Ke.array)(ct)),returnValues:(0,Ke.optional)((0,Ke.array)(ot))}),lt=(0,Ke.object)({effects:st,events:at,results:(0,Ke.optional)((0,Ke.array)(ut)),error:(0,Ke.optional)((0,Ke.string)())}),dt=(0,Ke.string)(),gt=(0,Ke.object)({data:He,txSignatures:(0,Ke.array)((0,Ke.string)())}),pt=(0,Ke.object)({type:(0,Ke.literal)("published"),packageId:B,version:P,digest:te,modules:(0,Ke.array)((0,Ke.string)())}),ht=(0,Ke.object)({type:(0,Ke.literal)("transferred"),sender:A,recipient:_,objectType:(0,Ke.string)(),objectId:B,version:P,digest:te}),bt=(0,Ke.object)({type:(0,Ke.literal)("mutated"),sender:A,owner:_,objectType:(0,Ke.string)(),objectId:B,version:P,previousVersion:P,digest:te}),yt=(0,Ke.object)({type:(0,Ke.literal)("deleted"),sender:A,objectType:(0,Ke.string)(),objectId:B,version:P}),ft=(0,Ke.object)({type:(0,Ke.literal)("wrapped"),sender:A,objectType:(0,Ke.string)(),objectId:B,version:P}),mt=(0,Ke.object)({type:(0,Ke.literal)("created"),sender:A,owner:_,objectType:(0,Ke.string)(),objectId:B,version:P,digest:te}),St=(0,Ke.union)([pt,ht,bt,yt,ft,mt]),wt=(0,Ke.object)({owner:_,coinType:(0,Ke.string)(),amount:(0,Ke.string)()}),vt=(0,Ke.object)({digest:C,transaction:(0,Ke.optional)(gt),effects:(0,Ke.optional)(st),events:(0,Ke.optional)(at),timestampMs:(0,Ke.optional)((0,Ke.string)()),checkpoint:(0,Ke.optional)((0,Ke.string)()),confirmedLocalExecution:(0,Ke.optional)((0,Ke.boolean)()),objectChanges:(0,Ke.optional)((0,Ke.array)(St)),balanceChanges:(0,Ke.optional)((0,Ke.array)(wt)),errors:(0,Ke.optional)((0,Ke.array)((0,Ke.string)()))}),Tt=(0,Ke.object)({showInput:(0,Ke.optional)((0,Ke.boolean)()),showEffects:(0,Ke.optional)((0,Ke.boolean)()),showEvents:(0,Ke.optional)((0,Ke.boolean)()),showObjectChanges:(0,Ke.optional)((0,Ke.boolean)()),showBalanceChanges:(0,Ke.optional)((0,Ke.boolean)())}),jt=(0,Ke.object)({data:(0,Ke.array)(vt),nextCursor:(0,Ke.nullable)(C),hasNextPage:(0,Ke.boolean)()}),kt=(0,Ke.object)({effects:st,events:at,objectChanges:(0,Ke.array)(St),balanceChanges:(0,Ke.array)(wt),input:(0,Ke.optional)(He)});function Et(e){return e.transaction}function Ct(e){return e.digest}function It(e){return e.transaction?.txSignatures}function Ot(e){return e.transaction?.data.sender}function Bt(e){return e.transaction?.data.gasData}function At(e){return Bt(e)?.payment}function Pt(e){return Bt(e)?.price}function _t(e){return Bt(e)?.budget}function xt(e){return"ChangeEpoch"===e.kind?e:void 0}function Rt(e){return"ConsensusCommitPrologue"===e.kind?e:void 0}function Mt(e){return e.transaction?.data.transaction}function Dt(e){return e.kind}function Nt(e){return"ProgrammableTransaction"===e.kind?e:void 0}function Ut(e){return Kt(e)?.status}function Kt(e){return Gt(e)?.status}function Vt(e){return Kt(e)?.error}function qt(e){return(0,Ke.is)(e,st)?e.gasUsed:Gt(e)?.gasUsed}function Ft(e){const t=qt(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost)-BigInt(t.storageRebate):void 0}function Wt(e){const t=qt(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost):void 0}function Gt(e){return e.effects}function $t(e){return e.events}function Lt(e){return Gt(e)?.created}function zt(e){return e.timestampMs??void 0}function Jt(e){return Gt(e)?.created?.map((e=>e.reference))}function Yt(e){return e.objectChanges}function Ht(e){return e.objectChanges?.filter((e=>(0,Ke.is)(e,pt)))??[]}function Xt(e){if("object"!==typeof e||null===e||!("type"in e)||!e.type.startsWith("0x1::option::Option<"))return e}var Zt=n(20962),Qt="0x3",en="0x2",tn="0x1",nn="object",rn="UID",sn="ID",an=`${en}::sui::SUI`,on="0x3::validator_set::ValidatorEpochInfoEventV2",cn=K("0x6"),un="pay",ln="split_vec",dn="join",gn=/^0x2::coin::Coin<(.+)>$/;function pn(e){return!!e.data||!!e.type}var hn=(0,Zt.object)({decimals:(0,Zt.number)(),name:(0,Zt.string)(),symbol:(0,Zt.string)(),description:(0,Zt.string)(),iconUrl:(0,Zt.nullable)((0,Zt.string)()),id:(0,Zt.nullable)(B)}),bn=class{static isCoin(e){return null!=bn.getType(e)?.match(gn)}static getCoinType(e){const[,t]=e.match(gn)??[];return t||null}static getCoinTypeArg(e){const t=bn.getType(e);return t?bn.getCoinType(t):null}static isSUI(e){const t=bn.getCoinTypeArg(e);return!!t&&"SUI"===bn.getCoinSymbol(t)}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getCoinStructTag(e){return{address:K(e.split("::")[0]),module:e.split("::")[1],name:e.split("::")[2],typeParams:[]}}static getID(e){return"fields"in e?e.fields.id.id:he(e)}static totalBalance(e){return e.reduce(((e,t)=>e+bn.getBalanceFromCoinStruct(t)),BigInt(0))}static sortByBalance(e){return[...e].sort(((e,t)=>bn.getBalanceFromCoinStruct(e)<bn.getBalanceFromCoinStruct(t)?-1:bn.getBalanceFromCoinStruct(e)>bn.getBalanceFromCoinStruct(t)?1:0))}static getBalanceFromCoinStruct(e){return BigInt(e.balance)}static getBalance(e){if(!bn.isCoin(e))return;const t=Ee(e)?.balance;return BigInt(t)}static getType(e){return pn(e)?fe(e):e.type}},yn=class{static isDelegationSuiObject(e){return"type"in e&&e.type===yn.SUI_OBJECT_TYPE}constructor(e){this.suiObject=e}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(Xt(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return Xt(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(e){return this.nextRewardUnclaimedEpoch()<=e&&(this.isActive()||(this.endingEpoch()||0)>e)}},fn=yn;fn.SUI_OBJECT_TYPE="0x2::delegation::Delegation";var mn=n(76990);function Sn(e){return void 0!==e.Pure}var wn="vector",vn={kind:"TransactionKind",sender:mn.BCS.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},Tn={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[wn,mn.BCS.U8],Object:"ObjectArg",ObjVec:[wn,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:mn.BCS.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:mn.BCS.ADDRESS,version:mn.BCS.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:mn.BCS.ADDRESS,initialSharedVersion:mn.BCS.U64,mutable:mn.BCS.BOOL},StructTag:{address:mn.BCS.ADDRESS,module:mn.BCS.STRING,name:mn.BCS.STRING,typeParams:[wn,"TypeTag"]},GasData:{payment:[wn,"SuiObjectRef"],owner:mn.BCS.ADDRESS,price:mn.BCS.U64,budget:mn.BCS.U64},SenderSignedData:{data:"TransactionData",txSignatures:[wn,[wn,mn.BCS.U8]]},TransactionDataV1:vn},aliases:{ObjectDigest:mn.BCS.BASE58}},jn=new mn.BCS({...(0,mn.getSuiMoveConfig)(),types:Tn});jn.registerType("utf8string",((e,t)=>{const n=Array.from((new TextEncoder).encode(t));return e.writeVec(n,((e,t)=>e.write8(t)))}),(e=>{let t=e.readVec((e=>e.read8()));return(new TextDecoder).decode(new Uint8Array(t))}));var kn=n(20962),En=(0,kn.object)({amount:(0,kn.number)(),id:B,transferTxDigest:C}),Cn=(0,kn.object)({transferredGasObjects:(0,kn.array)(En),error:(0,kn.nullable)((0,kn.string)())}),In=n(20962),On=(0,In.union)([(0,In.string)(),(0,In.object)({Object:(0,In.string)()})]),Bn=(0,In.array)(On),An=(0,In.object)({address:(0,In.string)(),name:(0,In.string)()}),Pn=(0,In.union)([(0,In.literal)("Private"),(0,In.literal)("Public"),(0,In.literal)("Friend")]),_n=(0,In.object)({abilities:(0,In.array)((0,In.string)())}),xn=(0,In.object)({constraints:_n,isPhantom:(0,In.boolean)()}),Rn=(0,In.object)({TypeParameter:(0,In.number)()}),Mn=(0,In.tuple)([(0,In.object)({module:(0,In.string)(),package:(0,In.string)(),function:(0,In.string)()}),(0,In.string)()]),Dn=(0,In.object)({rank3Days:(0,In.array)(Mn),rank7Days:(0,In.array)(Mn),rank30Days:(0,In.array)(Mn)});function Nn(e){if(!e)return!1;if("string"===typeof e)return!0;if((0,In.is)(e,Rn))return!0;if(Kn(e))return!0;if("object"!==typeof e)return!1;const t=e;return!!(0,In.is)(t.Reference,Un)||(!!(0,In.is)(t.MutableReference,Un)||!!(0,In.is)(t.Vector,Un))}var Un=(0,In.define)("SuiMoveNormalizedType",Nn);function Kn(e){if(!e||"object"!==typeof e)return!1;const t=e;if(!t.Struct||"object"!==typeof t.Struct)return!1;const n=t.Struct;return!("string"!==typeof n.address||"string"!==typeof n.module||"string"!==typeof n.name||!Array.isArray(n.typeArguments)||!n.typeArguments.every((e=>Nn(e))))}var Vn=(0,In.define)("SuiMoveNormalizedStructType",Kn),qn=(0,In.object)({visibility:Pn,isEntry:(0,In.boolean)(),typeParameters:(0,In.array)(_n),parameters:(0,In.array)(Un),return:(0,In.array)(Un)}),Fn=(0,In.object)({name:(0,In.string)(),type:Un}),Wn=(0,In.object)({abilities:_n,typeParameters:(0,In.array)(xn),fields:(0,In.array)(Fn)}),Gn=(0,In.object)({fileFormatVersion:(0,In.number)(),address:(0,In.string)(),name:(0,In.string)(),friends:(0,In.array)(An),structs:(0,In.record)((0,In.string)(),Wn),exposedFunctions:(0,In.record)((0,In.string)(),qn)}),$n=(0,In.record)((0,In.string)(),Gn);function Ln(e){return"object"===typeof e&&"MutableReference"in e?e.MutableReference:void 0}function zn(e){return"object"===typeof e&&"Reference"in e?e.Reference:void 0}function Jn(e){if("object"===typeof e&&"Struct"in e)return e;const t=zn(e),n=Ln(e);return"object"===typeof t&&"Struct"in t?t:"object"===typeof n&&"Struct"in n?n:void 0}var Yn=n(20962),Hn=(0,Yn.object)({apy:(0,Yn.number)(),address:A}),Xn=(0,Yn.object)({epoch:(0,Yn.string)(),apys:(0,Yn.array)(Hn)}),Zn=(0,Yn.object)({value:(0,Yn.number)()}),Qn=(0,Yn.object)({stakedSuiId:B,stakeRequestEpoch:Ve,stakeActiveEpoch:Ve,principal:(0,Yn.string)(),status:(0,Yn.union)([(0,Yn.literal)("Active"),(0,Yn.literal)("Pending"),(0,Yn.literal)("Unstaked")]),estimatedReward:(0,Yn.optional)((0,Yn.string)())}),er=(0,Yn.object)({validatorAddress:A,stakingPool:B,stakes:(0,Yn.array)(Qn)}),tr=(0,Yn.object)({balance:(0,Yn.object)({value:(0,Yn.number)()}),distribution_counter:(0,Yn.number)(),current_distribution_amount:(0,Yn.number)(),stake_subsidy_period_length:(0,Yn.number)(),stake_subsidy_decrease_rate:(0,Yn.number)()}),nr=(0,Yn.object)({type:(0,Yn.string)(),fields:tr}),rr=(0,Yn.object)({value:(0,Yn.number)()}),ir=(0,Yn.object)({id:(0,Yn.string)(),size:(0,Yn.number)(),head:(0,Yn.object)({vec:(0,Yn.array)()}),tail:(0,Yn.object)({vec:(0,Yn.array)()})}),sr=(0,Yn.object)({id:(0,Yn.string)(),size:(0,Yn.number)()}),ar=(0,Yn.object)({type:(0,Yn.string)(),fields:ir}),or=(0,Yn.object)({exchangeRates:(0,Yn.object)({id:(0,Yn.string)(),size:(0,Yn.number)()}),id:(0,Yn.string)(),pendingStake:(0,Yn.number)(),pendingPoolTokenWithdraw:(0,Yn.number)(),pendingTotalSuiWithdraw:(0,Yn.number)(),poolTokenBalance:(0,Yn.number)(),rewardsPool:(0,Yn.object)({value:(0,Yn.number)()}),activationEpoch:(0,Yn.object)({vec:(0,Yn.array)()}),deactivationEpoch:(0,Yn.object)({vec:(0,Yn.array)()}),suiBalance:(0,Yn.number)()}),cr=(0,Yn.object)({type:(0,Yn.string)(),fields:or}),ur=(0,Yn.array)((0,Yn.tuple)([dt,(0,Yn.string)()])),lr=(0,Yn.object)({epoch:Ve,validators:ur}),dr=(0,Yn.object)({suiAddress:A,protocolPubkeyBytes:(0,Yn.string)(),networkPubkeyBytes:(0,Yn.string)(),workerPubkeyBytes:(0,Yn.string)(),proofOfPossessionBytes:(0,Yn.string)(),operationCapId:(0,Yn.string)(),name:(0,Yn.string)(),description:(0,Yn.string)(),imageUrl:(0,Yn.string)(),projectUrl:(0,Yn.string)(),p2pAddress:(0,Yn.string)(),netAddress:(0,Yn.string)(),primaryAddress:(0,Yn.string)(),workerAddress:(0,Yn.string)(),nextEpochProtocolPubkeyBytes:(0,Yn.nullable)((0,Yn.string)()),nextEpochProofOfPossession:(0,Yn.nullable)((0,Yn.string)()),nextEpochNetworkPubkeyBytes:(0,Yn.nullable)((0,Yn.string)()),nextEpochWorkerPubkeyBytes:(0,Yn.nullable)((0,Yn.string)()),nextEpochNetAddress:(0,Yn.nullable)((0,Yn.string)()),nextEpochP2pAddress:(0,Yn.nullable)((0,Yn.string)()),nextEpochPrimaryAddress:(0,Yn.nullable)((0,Yn.string)()),nextEpochWorkerAddress:(0,Yn.nullable)((0,Yn.string)()),votingPower:(0,Yn.string)(),gasPrice:(0,Yn.string)(),commissionRate:(0,Yn.string)(),nextEpochStake:(0,Yn.string)(),nextEpochGasPrice:(0,Yn.string)(),nextEpochCommissionRate:(0,Yn.string)(),stakingPoolId:(0,Yn.string)(),stakingPoolActivationEpoch:(0,Yn.nullable)((0,Yn.string)()),stakingPoolDeactivationEpoch:(0,Yn.nullable)((0,Yn.string)()),stakingPoolSuiBalance:(0,Yn.string)(),rewardsPool:(0,Yn.string)(),poolTokenBalance:(0,Yn.string)(),pendingStake:(0,Yn.string)(),pendingPoolTokenWithdraw:(0,Yn.string)(),pendingTotalSuiWithdraw:(0,Yn.string)(),exchangeRatesId:(0,Yn.string)(),exchangeRatesSize:(0,Yn.string)()}),gr=(0,Yn.object)({epoch:(0,Yn.string)(),protocolVersion:(0,Yn.string)(),systemStateVersion:(0,Yn.string)(),storageFundTotalObjectStorageRebates:(0,Yn.string)(),storageFundNonRefundableBalance:(0,Yn.string)(),referenceGasPrice:(0,Yn.string)(),safeMode:(0,Yn.boolean)(),safeModeStorageRewards:(0,Yn.string)(),safeModeComputationRewards:(0,Yn.string)(),safeModeStorageRebates:(0,Yn.string)(),safeModeNonRefundableStorageFee:(0,Yn.string)(),epochStartTimestampMs:(0,Yn.string)(),epochDurationMs:(0,Yn.string)(),stakeSubsidyStartEpoch:(0,Yn.string)(),maxValidatorCount:(0,Yn.string)(),minValidatorJoiningStake:(0,Yn.string)(),validatorLowStakeThreshold:(0,Yn.string)(),validatorVeryLowStakeThreshold:(0,Yn.string)(),validatorLowStakeGracePeriod:(0,Yn.string)(),stakeSubsidyBalance:(0,Yn.string)(),stakeSubsidyDistributionCounter:(0,Yn.string)(),stakeSubsidyCurrentDistributionAmount:(0,Yn.string)(),stakeSubsidyPeriodLength:(0,Yn.string)(),stakeSubsidyDecreaseRate:(0,Yn.number)(),totalStake:(0,Yn.string)(),activeValidators:(0,Yn.array)(dr),pendingActiveValidatorsId:(0,Yn.string)(),pendingActiveValidatorsSize:(0,Yn.string)(),pendingRemovals:(0,Yn.array)((0,Yn.string)()),stakingPoolMappingsId:(0,Yn.string)(),stakingPoolMappingsSize:(0,Yn.string)(),inactivePoolsId:(0,Yn.string)(),inactivePoolsSize:(0,Yn.string)(),validatorCandidatesId:(0,Yn.string)(),validatorCandidatesSize:(0,Yn.string)(),atRiskValidators:(0,Yn.array)((0,Yn.tuple)([A,(0,Yn.string)()])),validatorReportRecords:(0,Yn.array)((0,Yn.tuple)([A,(0,Yn.array)(A)]))}),pr=n(20962),hr=(0,pr.object)({coinType:(0,pr.string)(),coinObjectId:B,version:(0,pr.string)(),digest:C,balance:(0,pr.string)(),lockedUntilEpoch:(0,pr.optional)((0,pr.nullable)((0,pr.number)())),previousTransaction:C}),br=(0,pr.object)({data:(0,pr.array)(hr),nextCursor:(0,pr.nullable)(B),hasNextPage:(0,pr.boolean)()}),yr=(0,pr.object)({coinType:(0,pr.string)(),coinObjectCount:(0,pr.number)(),totalBalance:(0,pr.string)(),lockedBalance:(0,pr.object)({epochId:(0,pr.optional)((0,pr.number)()),number:(0,pr.optional)((0,pr.number)())})}),fr=(0,pr.object)({value:(0,pr.string)()}),mr=n(20962),Sr=(0,mr.object)({lastCheckpointId:(0,mr.string)(),epochEndTimestamp:(0,mr.string)(),protocolVersion:(0,mr.string)(),referenceGasPrice:(0,mr.string)(),totalStake:(0,mr.string)(),storageFundReinvestment:(0,mr.string)(),storageCharge:(0,mr.string)(),storageRebate:(0,mr.string)(),storageFundBalance:(0,mr.string)(),stakeSubsidyAmount:(0,mr.string)(),totalGasFees:(0,mr.string)(),totalStakeRewardsDistributed:(0,mr.string)(),leftoverStorageFundInflow:(0,mr.string)()}),wr=(0,mr.object)({epoch:(0,mr.string)(),validators:(0,mr.array)(dr),epochTotalTransactions:(0,mr.string)(),firstCheckpointId:(0,mr.string)(),epochStartTimestamp:(0,mr.string)(),endOfEpochInfo:(0,mr.nullable)(Sr)}),vr=(0,mr.object)({data:(0,mr.array)(wr),nextCursor:(0,mr.nullable)((0,mr.string)()),hasNextPage:(0,mr.boolean)()}),Tr=n(20962),jr=(0,Tr.object)({computationCost:(0,Tr.string)(),storageCost:(0,Tr.string)(),storageRebate:(0,Tr.string)(),nonRefundableStorageFee:(0,Tr.string)()}),kr=((0,Tr.string)(),(0,Tr.string)()),Er=((0,Tr.object)({digest:(0,Tr.array)((0,Tr.number)())}),(0,Tr.any)()),Cr=(0,Tr.string)(),Ir=(0,Tr.object)({nextEpochCommittee:(0,Tr.array)((0,Tr.tuple)([(0,Tr.string)(),(0,Tr.string)()])),nextEpochProtocolVersion:(0,Tr.string)(),epochCommitments:(0,Tr.array)(Er)}),Or=((0,Tr.object)({transaction:C,effects:I}),(0,Tr.object)({epoch:(0,Tr.string)(),sequenceNumber:(0,Tr.string)(),digest:kr,networkTotalTransactions:(0,Tr.string)(),previousDigest:(0,Tr.optional)(kr),epochRollingGasCostSummary:jr,timestampMs:(0,Tr.string)(),endOfEpochData:(0,Tr.optional)(Ir),validatorSignature:(0,Tr.optional)(Cr),transactions:(0,Tr.array)(C),checkpointCommitments:(0,Tr.array)(Er)})),Br=(0,Tr.object)({data:(0,Tr.array)(Or),nextCursor:(0,Tr.nullable)((0,Tr.string)()),hasNextPage:(0,Tr.boolean)()}),Ar=n(45808),Pr=n(76990),_r=n(76990),xr={ED25519:0,Secp256k1:1},Rr={0:"ED25519",1:"Secp256k1"};function Mr({signature:e,signatureScheme:t,pubKey:n}){const r=new Uint8Array(1+e.length+n.toBytes().length);return r.set([xr[t]]),r.set(e,1),r.set(n.toBytes(),1+e.length),(0,_r.toB64)(r)}function Dr(e){const t=(0,_r.fromB64)(e),n=Rr[t[0]],r="ED25519"===n?Ur:qr,i=t.slice(1,t.length-r.SIZE);return{signatureScheme:n,signature:i,pubKey:new r(t.slice(1+i.length))}}var Nr=n(72654),Ur=class{constructor(e){if("string"===typeof e?this.data=(0,Pr.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return Kr(this.toBytes(),e.toBytes())}toBase64(){return(0,Pr.toB64)(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(33);return e.set([xr.ED25519]),e.set(this.toBytes(),1),U((0,Nr.bytesToHex)((0,Ar.blake2b)(e,{dkLen:32})).slice(0,2*M))}};function Kr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Vr(e,t){if("ED25519"===e)return new Ur(t);if("Secp256k1"===e)return new qr(t);throw new Error("Unknown public key schema")}Ur.SIZE=32;var qr=class{constructor(e){if("string"===typeof e?this.data=(0,v.fromB64)(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),33!==this.data.length)throw new Error(`Invalid public key input. Expected 33 bytes, got ${this.data.length}`)}equals(e){return Kr(this.toBytes(),e.toBytes())}toBase64(){return(0,v.toB64)(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(34);return e.set([xr.Secp256k1]),e.set(this.toBytes(),1),U((0,j.bytesToHex)((0,T.blake2b)(e,{dkLen:32})).slice(0,2*M))}};qr.SIZE=33;var Fr=n(89132),Wr=n(76990),Gr=n(37329);function $r(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function Lr(e){return!!new RegExp("^m\\/54'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(e)}function zr(e){return(0,Gr.mnemonicToSeedSync)(e,"")}function Jr(e){return(0,Wr.toHEX)(zr(e))}var Yr=n(24010),Hr=n(76990),Xr=n(72654),Zr=n(45808),Qr="m/54'/784'/0'/0/0",ei=class{constructor(e){if(e)this.keypair=e;else{const e=Fr.secp256k1.utils.randomPrivateKey(),t=Fr.secp256k1.getPublicKey(e,!0);this.keypair={publicKey:t,secretKey:e}}}getKeyScheme(){return"Secp256k1"}static generate(){return new ei}static fromSecretKey(e,t){const n=Fr.secp256k1.getPublicKey(e,!0);if(!t||!t.skipValidation){const t=(new TextEncoder).encode("sui validation"),r=(0,Xr.bytesToHex)((0,Zr.blake2b)(t,{dkLen:32})),i=Fr.secp256k1.sign(r,e);if(!Fr.secp256k1.verify(i,r,n,{lowS:!0}))throw new Error("Provided secretKey is invalid")}return new ei({publicKey:n,secretKey:e})}static fromSeed(e){let t=Fr.secp256k1.getPublicKey(e,!0);return new ei({publicKey:t,secretKey:e})}getPublicKey(){return new qr(this.keypair.publicKey)}signData(e){const t=(0,w.sha256)(e);return Fr.secp256k1.sign(t,this.keypair.secretKey,{lowS:!0}).toCompactRawBytes()}static deriveKeypair(e,t){if(null==t&&(t=Qr),!Lr(t))throw new Error("Invalid derivation path");const n=Yr.HDKey.fromMasterSeed(zr(e)).derive(t);if(null==n.publicKey||null==n.privateKey)throw new Error("Invalid key");return new ei({publicKey:n.publicKey,secretKey:n.privateKey})}export(){return{schema:"Secp256k1",privateKey:(0,Hr.toB64)(this.keypair.secretKey)}}},ti=32,ni=64;function ri(e){const t=(0,S.fromB64)(e.privateKey);switch(e.schema){case"ED25519":let n=t;return t.length===ni&&(n=t.slice(0,ti)),gi.fromSecretKey(n);case"Secp256k1":return ei.fromSecretKey(t);default:throw new Error(`Invalid keypair schema ${e.schema}`)}}var ii=n(87413),si=n(93319),ai=(d(n(50780)),n(76990)),oi=new RegExp("^m(\\/[0-9]+')+$"),ci=e=>e.replace("'",""),ui=(e,t,n=2147483648)=>{if(!(e=>!!oi.test(e)&&!e.split("/").slice(1).map(ci).some(isNaN))(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=(e=>{const t=si.hmac.create(ii.sha512,"ed25519 seed").update((0,ai.fromHEX)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(ci).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(1+e.length+r.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(e,1),i.set(new Uint8Array(r,0,r.byteLength),e.length+1);const s=si.hmac.create(ii.sha512,t).update(i).digest();return{key:s.slice(0,32),chainCode:s.slice(32)}})(e,t+n)),{key:r,chainCode:i})},li=n(76990),di="m/44'/784'/0'/0'/0'",gi=class{constructor(e){this.keypair=e||m.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new gi(m.default.sign.keyPair())}static fromSecretKey(e,t){const n=e.length;if(n!==ti)throw new Error(`Wrong secretKey size. Expected ${ti} bytes, got ${n}.`);const r=m.default.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("sui validation"),t=m.default.sign.detached(e,r.secretKey);if(!m.default.sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new gi(r)}getPublicKey(){return new Ur(this.keypair.publicKey)}signData(e){return m.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=di),!$r(t))throw new Error("Invalid derivation path");const{key:n}=ui(t,Jr(e));return gi.fromSecretKey(n)}export(){return{schema:"ED25519",privateKey:(0,li.toB64)(this.keypair.secretKey.slice(0,ti))}}},pi=d(n(51648)),hi=n(20962),bi=class extends Error{constructor(e){super(e.cause?`RPC Error: ${e.cause.message}`:"Unknown RPC Error",{cause:e.cause}),this.req=e.req,this.code=e.code,this.data=e.data}},yi=class extends Error{constructor(e){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:e.cause}),this.req=e.req,this.result=e.result,this.message=this.toString()}toString(){let e=super.toString();return this.cause&&(e+=`\nCause: ${this.cause}`),this.result&&(e+=`\nReponse Received: ${JSON.stringify(this.result,null,2)}`),e}},fi=class extends Error{},mi=(0,hi.object)({jsonrpc:(0,hi.literal)("2.0"),id:(0,hi.string)(),result:(0,hi.any)()}),Si=(0,hi.object)({jsonrpc:(0,hi.literal)("2.0"),id:(0,hi.string)(),error:(0,hi.object)({code:(0,hi.any)(),message:(0,hi.string)(),data:(0,hi.optional)((0,hi.any)())})}),wi=class{constructor(e,t){this.rpcClient=new pi.default((async(n,r)=>{const i={method:"POST",body:n,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.33.0","Client-Target-Api-Version":"1.1.0",...t}};try{let t=await fetch(e,i);const n=await t.text();if(t.ok)r(null,n);else{const e="text/html"===t.headers.get("content-type");r(new Error(`${t.status} ${t.statusText}${e?"":`: ${n}`}`))}}catch(s){r(s)}}),{})}async requestWithType(e,t,n){const r={method:e,args:t},i=await this.request(e,t);if((0,hi.is)(i,Si))throw new bi({req:r,code:i.error.code,data:i.error.data,cause:new Error(i.error.message)});if((0,hi.is)(i,mi)){const[e]=(0,hi.validate)(i.result,n);return e?(console.warn(new yi({req:r,result:i.result,cause:e})),i.result):i.result}throw new bi({req:r,data:i})}async request(e,t){return new Promise(((n,r)=>{this.rpcClient.request(e,t,((e,t)=>{e?r(e):n(t)}))}))}},vi=n(20962),Ti=(0,vi.union)([(0,vi.literal)("DynamicField"),(0,vi.literal)("DynamicObject")]),ji=(0,vi.object)({type:(0,vi.string)(),value:(0,vi.any)()}),ki=(0,vi.object)({name:ji,bcsName:(0,vi.string)(),type:Ti,objectType:(0,vi.string)(),objectId:B,version:(0,vi.number)(),digest:(0,vi.string)()}),Ei=(0,vi.object)({data:(0,vi.array)(ki),nextCursor:(0,vi.nullable)(B),hasNextPage:(0,vi.boolean)()}),Ci=n(20962),Ii=n(83937),Oi=(e,t)=>{const n=new URL(e);return n.protocol=n.protocol.replace("http","ws"),t&&(n.port=t.toString()),n.toString()},Bi={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},Ai="suix_subscribeEvent",Pi=class{constructor(e,t=Bi){this.endpoint=e,this.options=t,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=Oi(this.endpoint)),this.rpcClient=new Ii.Client(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",(()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))})),this.rpcClient.on("close",(()=>{this.connectionState=0})),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(e){const t=JSON.parse(e),n=t.params;if(t.method===Ai)if((e=>e&&"subscription"in e&&"number"===typeof e.subscription&&"result"in e&&"object"===typeof e.result)(n)){const e=this.eventSubscriptions.get(n.subscription);e&&e.onMessage(n.result)}else if((0,Ci.is)(n,De)){const e=this.eventSubscriptions.get(n.subscription);e&&e.onMessage(n.result)}}async connect(){return this.connectionPromise?this.connectionPromise:2===this.connectionState?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise(((e,t)=>{this.connectionTimeout=setTimeout((()=>t(new Error("timeout"))),this.options.connectTimeout),this.rpcClient.once("open",(()=>{this.refreshSubscriptions(),this.connectionPromise=null,e()})),this.rpcClient.once("error",(e=>{this.connectionPromise=null,t(e)}))})),this.connectionPromise)}async refreshSubscriptions(){if(0!==this.eventSubscriptions.size)try{let e=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map((async e=>{const t=e.onMessage,n=e.filter;if(!n||!t)return Promise.resolve(null);return{id:await this.subscribeEvent(n,t),onMessage:t,filter:n}})))).forEach((t=>{if(null===t)return;const n=t.filter,r=t.onMessage;e.set(t.id,{filter:n,onMessage:r})})),this.eventSubscriptions=e}catch(e){throw new Error(`error refreshing event subscriptions: ${e}`)}}async subscribeEvent(e,t){try{2!==this.connectionState&&await this.connect();let n=await this.rpcClient.call(Ai,[e],this.options.callTimeout);return this.eventSubscriptions.set(n,{filter:e,onMessage:t}),n}catch(n){throw new Error(`Error subscribing to event: ${JSON.stringify(n,null,2)}, filter: ${JSON.stringify(e)}`)}}async unsubscribeEvent(e){try{2!==this.connectionState&&await this.connect();let t=await this.rpcClient.call("suix_unsubscribeEvent",[e],this.options.callTimeout);return this.eventSubscriptions.delete(e)||t}catch(t){throw new Error(`Error unsubscribing from event: ${t}, subscription: ${e}`)}}};async function _i(e,t,n){const r=await fetch(e,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:t}}),headers:{"Content-Type":"application/json",...n||{}}});if(429===r.status)throw new fi("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=await r.json()}catch(s){throw new Error(`Encountered error when parsing response from faucet, error: ${s}, status ${r.status}, response ${r}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i}var xi,Ri=n(20962),Mi=n(76990),Di=class{constructor(e){h(this,xi,void 0),b(this,xi,e)}get fullnode(){return p(this,xi).fullnode}get websocket(){return p(this,xi).websocket||p(this,xi).fullnode}get faucet(){return p(this,xi).faucet}};xi=new WeakMap;var Ni=new Di({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"}),Ui=new Di({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),Ki=new Di({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"}),Vi=n(76990),qi=n(20962),Fi=n(76990),Wi=n(20962),Gi=n(20962);function $i(e,t){return(0,Gi.create)(e,t)}var Li=Symbol("transaction-argument-type"),zi=(0,Wi.object)({kind:(0,Wi.literal)("Input"),index:(0,Wi.integer)(),value:(0,Wi.optional)((0,Wi.any)()),type:(0,Wi.optional)((0,Wi.union)([(0,Wi.literal)("pure"),(0,Wi.literal)("object")]))}),Ji=[zi,(0,Wi.object)({kind:(0,Wi.literal)("GasCoin")}),(0,Wi.object)({kind:(0,Wi.literal)("Result"),index:(0,Wi.integer)()}),(0,Wi.object)({kind:(0,Wi.literal)("NestedResult"),index:(0,Wi.integer)(),resultIndex:(0,Wi.integer)()})],Yi=(0,Wi.union)([...Ji]),Hi=(0,Wi.union)([...Ji]);Hi[Li]={kind:"object"};var Xi,Zi=e=>{const t=(0,Wi.union)([...Ji]);return t[Li]={kind:"pure",type:e},t},Qi=(0,Wi.object)({kind:(0,Wi.literal)("MoveCall"),target:(0,Wi.define)("target",(0,Wi.string)().validator),typeArguments:(0,Wi.array)((0,Wi.string)()),arguments:(0,Wi.array)(Yi)}),es=(0,Wi.object)({kind:(0,Wi.literal)("TransferObjects"),objects:(0,Wi.array)(Hi),address:Zi(Fi.BCS.ADDRESS)}),ts=(0,Wi.object)({kind:(0,Wi.literal)("SplitCoins"),coin:Hi,amounts:(0,Wi.array)(Zi("u64"))}),ns=(0,Wi.object)({kind:(0,Wi.literal)("MergeCoins"),destination:Hi,sources:(0,Wi.array)(Hi)}),rs=(0,Wi.object)({kind:(0,Wi.literal)("MakeMoveVec"),type:(0,Wi.optional)((Xi=(0,Wi.string)(),(0,Wi.union)([(0,Wi.object)({None:(0,Wi.union)([(0,Wi.literal)(!0),(0,Wi.literal)(null)])}),(0,Wi.object)({Some:Xi})]))),objects:(0,Wi.array)(Hi)}),is=(0,Wi.object)({kind:(0,Wi.literal)("Publish"),modules:(0,Wi.array)((0,Wi.array)((0,Wi.integer)())),dependencies:(0,Wi.array)(B)}),ss=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(ss||{}),as=(0,Wi.object)({kind:(0,Wi.literal)("Upgrade"),modules:(0,Wi.array)((0,Wi.array)((0,Wi.integer)())),dependencies:(0,Wi.array)(B),packageId:B,ticket:Hi}),os=[Qi,es,ts,ns,is,as,rs],cs=(0,Wi.union)([...os]);function us(e){return(0,Wi.assert)(e,cs),os.find((t=>(0,Wi.is)(e,t)))}var ls={MoveCall:e=>$i({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},Qi),TransferObjects:(e,t)=>$i({kind:"TransferObjects",objects:e,address:t},es),SplitCoins:(e,t)=>$i({kind:"SplitCoins",coin:e,amounts:t},ts),MergeCoins:(e,t)=>$i({kind:"MergeCoins",destination:e,sources:t},ns),Publish:({modules:e,dependencies:t})=>$i({kind:"Publish",modules:e.map((e=>"string"===typeof e?Array.from((0,Fi.fromB64)(e)):e)),dependencies:t.map((e=>K(e)))},is),Upgrade:({modules:e,dependencies:t,packageId:n,ticket:r})=>$i({kind:"Upgrade",modules:e.map((e=>"string"===typeof e?Array.from((0,Fi.fromB64)(e)):e)),dependencies:t.map((e=>K(e))),packageId:n,ticket:r},as),MakeMoveVec:({type:e,objects:t})=>$i({kind:"MakeMoveVec",type:e?{Some:e}:{None:null},objects:t},rs)},ds=n(20962),gs=n(76990),ps=/^vector<(.+)>$/,hs=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,bs=class{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const n=e.match(ps);if(n)return{vector:bs.parseFromStr(n[1],t)};const r=e.match(hs);if(r){return{struct:{address:t?U(r[1]):r[1],module:r[2],name:r[3],typeParams:void 0===r[5]?[]:bs.parseStructTypeArgs(r[5],t)}}}throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){const n=[];let r="",i=0;for(let s=0;s<e.length;s++){const t=e[s];"<"===t&&i++,">"===t&&i--,0!==i||","!==t?r+=t:(n.push(r.trim()),r="")}return n.push(r.trim()),n.map((e=>bs.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${bs.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,n=t.typeParams.map(bs.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}},ys="Argument",fs="vector",ms="Option",Ss="CallArg",ws="TypeTag",vs="ObjectArg",Ts="ProgrammableTransaction",js="ProgrammableMoveCall",ks="Transaction",Es="EnumKind",Cs=[Es,ks],Is=[Es,ys],Os="SimpleProgrammableMoveCall",Bs=new gs.BCS(jn).registerStructType(Ts,{inputs:[fs,Ss],transactions:[fs,Cs]}).registerEnumType(ys,{GasCoin:null,Input:{index:gs.BCS.U16},Result:{index:gs.BCS.U16},NestedResult:{index:gs.BCS.U16,resultIndex:gs.BCS.U16}}).registerStructType(js,{package:gs.BCS.ADDRESS,module:gs.BCS.STRING,function:gs.BCS.STRING,type_arguments:[fs,ws],arguments:[fs,Is]}).registerEnumType(ks,{MoveCall:Os,TransferObjects:{objects:[fs,Is],address:Is},SplitCoins:{coin:Is,amounts:[fs,Is]},MergeCoins:{destination:Is,sources:[fs,Is]},Publish:{modules:[fs,[fs,gs.BCS.U8]],dependencies:[fs,gs.BCS.ADDRESS]},MakeMoveVec:{type:[ms,ws],objects:[fs,Is]},Upgrade:{modules:[fs,[fs,gs.BCS.U8]],dependencies:[fs,gs.BCS.ADDRESS],packageId:gs.BCS.ADDRESS,ticket:Is}});Bs.registerType([Es,"T"],(function(e,t,n,r){const i={[t.kind]:t},[s]=n;return this.getTypeInterface(s)._encodeRaw.call(this,e,i,n,r)}),(function(e,t,n){const[r]=t,i=this.getTypeInterface(r)._decodeRaw.call(this,e,t,n),s=Object.keys(i)[0];return{kind:s,...i[s]}}),(e=>{if("object"!==typeof e&&!("kind"in e))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(e)}`);return!0})),Bs.registerType(Os,(function(e,t,n,r){const[i,s,a]=t.target.split("::"),o=t.typeArguments.map((e=>bs.parseFromStr(e,!0)));return this.getTypeInterface(js)._encodeRaw.call(this,e,{package:U(i),module:s,function:a,type_arguments:o,arguments:t.arguments},n,r)}),(function(e,t,n){let r=Bs.getTypeInterface(js)._decodeRaw.call(this,e,t,n);return{target:[r.package,r.module,r.function].join("::"),arguments:r.arguments,typeArguments:r.type_arguments.map(bs.tagToString)}}),(e=>3===e.target.split("::").length));var As=(0,ds.union)([(0,ds.object)({ImmOrOwned:F}),(0,ds.object)({Shared:(0,ds.object)({objectId:(0,ds.string)(),initialSharedVersion:(0,ds.union)([(0,ds.integer)(),(0,ds.string)()]),mutable:(0,ds.boolean)()})})]),Ps=(0,ds.object)({Pure:(0,ds.array)((0,ds.integer)())}),_s=(0,ds.object)({Object:As}),xs=(0,ds.union)([Ps,_s]),Rs={Pure:(e,t)=>({Pure:Array.from(e instanceof Uint8Array?e:Bs.ser(t,e,{maxSize:16384}).toBytes())}),ObjectRef:({objectId:e,digest:t,version:n})=>({Object:{ImmOrOwned:{digest:t,version:n,objectId:U(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:n})=>({Object:{Shared:{mutable:t,initialSharedVersion:n,objectId:U(e)}}})};function Ms(e){return"string"===typeof e?U(e):"ImmOrOwned"in e.Object?U(e.Object.ImmOrOwned.objectId):U(e.Object.Shared.objectId)}function Ds(e){return"object"===typeof e&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function Ns(e){return!!Ds(e)}function Us(e){return Ds(e)?.mutable??!1}var Ks={address:en,module:nn,name:sn},Vs={address:tn,module:"ascii",name:"String"},qs={address:tn,module:"string",name:"String"},Fs={address:tn,module:"option",name:"Option"},Ws=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function Gs(e){const t=Jn(e)?.Struct;return"0x2"===t?.address&&"tx_context"===t?.module&&"TxContext"===t?.name}function $s(e,t){if("undefined"!==typeof t&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}var Ls=["Address","Bool","U8","U16","U32","U64","U128","U256"];function zs(e,t){if("string"===typeof e&&Ls.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])$s("number",t);else if("Bool"===e)$s("boolean",t);else if("Address"===e&&($s("string",t),t&&!D(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}if("string"===typeof e)throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((void 0===t||"string"===typeof t)&&"U8"===e.Vector)return"string";if(void 0!==t&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);const n=zs(e.Vector,t?t[0]:void 0);if(void 0===n)return;return`vector<${n}>`}if("Struct"in e){if(Ws(e.Struct,Vs))return"string";if(Ws(e.Struct,qs))return"utf8string";if(Ws(e.Struct,Ks))return"address";if(Ws(e.Struct,Fs)){return zs({Vector:e.Struct.typeArguments[0]},t)}}}var Js=n(76990),Ys=n(20962),Hs=n(45808);var Xs=(0,Ys.optional)((0,Ys.nullable)((0,Ys.union)([(0,Ys.object)({Epoch:(0,Ys.integer)()}),(0,Ys.object)({None:(0,Ys.union)([(0,Ys.literal)(!0),(0,Ys.literal)(null)])})]))),Zs=(0,Ys.string)(),Qs=(0,Ys.define)("StringEncodedBigint",(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),ea=(0,Ys.object)({budget:(0,Ys.optional)(Qs),price:(0,Ys.optional)(Qs),payment:(0,Ys.optional)((0,Ys.array)(F)),owner:(0,Ys.optional)(Zs)}),ta=(0,Ys.object)({version:(0,Ys.literal)(1),sender:(0,Ys.optional)(Zs),expiration:Xs,gasConfig:ea,inputs:(0,Ys.array)(zi),transactions:(0,Ys.array)(cs)});function na(e){return U(e).replace("0x","")}var ra=131072,ia=class{constructor(e){this.version=1,this.sender=e?.sender,this.expiration=e?.expiration,this.gasConfig=e?.gasConfig??{},this.inputs=e?.inputs??[],this.transactions=e?.transactions??[]}static fromKindBytes(e){const t=Bs.de("TransactionKind",e)?.ProgrammableTransaction;if(!t)throw new Error("Unable to deserialize from bytes.");const n=$i({version:1,gasConfig:{},inputs:t.inputs.map(((e,t)=>$i({kind:"Input",value:e,index:t,type:(0,Ys.is)(e,Ps)?"pure":"object"},zi))),transactions:t.transactions},ta);return ia.restore(n)}static fromBytes(e){const t=Bs.de("TransactionData",e)?.V1,n=t?.kind?.ProgrammableTransaction;if(!t||!n)throw new Error("Unable to deserialize from bytes.");const r=$i({version:1,sender:t.sender,expiration:t.expiration,gasConfig:t.gasData,inputs:n.inputs.map(((e,t)=>$i({kind:"Input",value:e,index:t,type:(0,Ys.is)(e,Ps)?"pure":"object"},zi))),transactions:n.transactions},ta);return ia.restore(r)}static restore(e){(0,Ys.assert)(e,ta);const t=new ia;return Object.assign(t,e),t}static getDigestFromBytes(e){const t=function(e,t){const n=Array.from(`${e}::`).map((e=>e.charCodeAt(0))),r=new Uint8Array(n.length+t.length);return r.set(n),r.set(t,n.length),(0,Hs.blake2b)(r,{dkLen:32})}("TransactionData",e);return(0,Js.toB58)(t)}build({overrides:e,onlyTransactionKind:t}={}){const n=this.inputs.map((e=>((0,Ys.assert)(e.value,xs),e.value))),r={ProgrammableTransaction:{inputs:n,transactions:this.transactions}};if(t)return Bs.ser("TransactionKind",r,{maxSize:ra}).toBytes();const i=e?.expiration??this.expiration,s=e?.sender??this.sender,a={...this.gasConfig,...e?.gasConfig};if(!s)throw new Error("Missing transaction sender");if(!a.budget)throw new Error("Missing gas budget");if(!a.payment)throw new Error("Missing gas payment");if(!a.price)throw new Error("Missing gas price");const o={sender:na(s),expiration:i||{None:!0},gasData:{payment:a.payment,owner:na(this.gasConfig.owner??s),price:BigInt(a.price),budget:BigInt(a.budget)},kind:{ProgrammableTransaction:{inputs:n,transactions:this.transactions}}};return Bs.ser("TransactionData",{V1:o},{maxSize:ra}).toBytes()}getDigest(){const e=this.build({onlyTransactionKind:!1});return ia.getDigestFromBytes(e)}snapshot(){return $i(this,ta)}};function sa(e){if(!e)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e}var aa,oa,ca,ua,la,da,ga,pa,ha,ba,ya,fa=Symbol.for("@mysten/transaction"),ma=1000n,Sa=class{constructor(e){h(this,oa),h(this,ua),h(this,da),h(this,pa),h(this,ba),h(this,aa,void 0),b(this,aa,new ia(e?e.blockData:void 0))}static is(e){return!!e&&"object"===typeof e&&!0===e[fa]}static fromKind(e){const t=new Sa;return b(t,aa,ia.fromKindBytes("string"===typeof e?(0,Vi.fromB64)(e):e)),t}static from(e){const t=new Sa;return"string"===typeof e&&e.startsWith("{")?b(t,aa,ia.restore(JSON.parse(e))):b(t,aa,ia.fromBytes("string"===typeof e?(0,Vi.fromB64)(e):e)),t}static get Transactions(){return ls}static get Inputs(){return Rs}setSender(e){p(this,aa).sender=e}setSenderIfNotSet(e){p(this,aa).sender||(p(this,aa).sender=e)}setExpiration(e){p(this,aa).expiration=e}setGasPrice(e){p(this,aa).gasConfig.price=String(e)}setGasBudget(e){p(this,aa).gasConfig.budget=String(e)}setGasOwner(e){p(this,aa).gasConfig.owner=e}setGasPayment(e){if(e.length>=256)throw new Error("Payment objects exceed maximum amount 256");p(this,aa).gasConfig.payment=e.map((e=>(0,qi.mask)(e,F)))}get blockData(){return p(this,aa).snapshot()}get[fa](){return!0}get gas(){return{kind:"GasCoin"}}object(e){const t=Ms(e);return p(this,aa).inputs.find((e=>"object"===e.type&&t===Ms(e.value)))??y(this,oa,ca).call(this,"object",e)}objectRef(...e){return this.object(Rs.ObjectRef(...e))}sharedObjectRef(...e){return this.object(Rs.SharedObjectRef(...e))}pure(e,t){return y(this,oa,ca).call(this,"pure",e instanceof Uint8Array?Rs.Pure(e):t?Rs.Pure(e,t):e)}add(e){return function(e){const t=[],n=n=>t[n]??(t[n]={kind:"NestedResult",index:e,resultIndex:n});return new Proxy({kind:"Result",index:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield n(e),e++};if("symbol"===typeof t)return;const r=parseInt(t,10);return Number.isNaN(r)||r<0?void 0:n(r)}})}(p(this,aa).transactions.push(e)-1)}splitCoins(...e){return this.add(ls.SplitCoins(...e))}mergeCoins(...e){return this.add(ls.MergeCoins(...e))}publish(...e){return this.add(ls.Publish(...e))}upgrade(...e){return this.add(ls.Upgrade(...e))}moveCall(...e){return this.add(ls.MoveCall(...e))}transferObjects(...e){return this.add(ls.TransferObjects(...e))}makeMoveVec(...e){return this.add(ls.MakeMoveVec(...e))}serialize(){return JSON.stringify(p(this,aa).snapshot())}async build({provider:e,onlyTransactionKind:t}={}){return await y(this,ba,ya).call(this,{provider:e,onlyTransactionKind:t}),p(this,aa).build({onlyTransactionKind:t})}async getDigest({provider:e}={}){return await y(this,ba,ya).call(this,{provider:e}),p(this,aa).getDigest()}},wa=Sa;aa=new WeakMap,oa=new WeakSet,ca=function(e,t){const n=p(this,aa).inputs.length,r=$i({kind:"Input",value:"bigint"===typeof t?String(t):t,index:n,type:e},zi);return p(this,aa).inputs.push(r),r},ua=new WeakSet,la=async function({provider:e,onlyTransactionKind:t}){if(t||p(this,aa).gasConfig.payment)return;const n=p(this,aa).gasConfig.owner??p(this,aa).sender,r=(await sa(e).getCoins({owner:n,coinType:an})).data.filter((e=>!p(this,aa).inputs.find((t=>!!((0,qi.is)(t.value,xs)&&"Object"in t.value&&"ImmOrOwned"in t.value.Object)&&e.coinObjectId===t.value.Object.ImmOrOwned.objectId)))).slice(0,255).map((e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version})));if(!r.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(r)},da=new WeakSet,ga=async function({provider:e,onlyTransactionKind:t}){t||p(this,aa).gasConfig.price||this.setGasPrice(await sa(e).getReferenceGasPrice())},pa=new WeakSet,ha=async function(e){const{inputs:t,transactions:n}=p(this,aa),r=[],i=[];if(n.forEach((e=>{if("MoveCall"===e.kind){return void(e.arguments.some((e=>"Input"===e.kind&&!(0,qi.is)(t[e.index].value,xs)))&&r.push(e))}const n=us(e);n.schema&&Object.entries(e).forEach((([e,r])=>{if("kind"===e)return;const s=n.schema[e],a="array"===s.type,o=a?s.schema[Li]:s[Li];if(!o)return;const c=e=>{const n=t[e];if(!n)throw new Error(`Missing input ${r.index}`);if(!(0,qi.is)(n.value,xs))if("object"===o.kind&&"string"===typeof n.value)i.push({id:n.value,input:n});else{if("pure"!==o.kind)throw new Error("Unexpected input format.");n.value=Rs.Pure(n.value,o.type)}};if(a)r.forEach((e=>{"Input"===e.kind&&c(e.index)}));else{if("Input"!==r.kind)return;c(r.index)}}))})),r.length&&await Promise.all(r.map((async n=>{const[r,s,a]=n.target.split("::"),o=await sa(e).getNormalizedMoveFunction({package:K(r),module:s,function:a}),c=o.parameters.length>0&&Gs(o.parameters.at(-1))?o.parameters.slice(0,o.parameters.length-1):o.parameters;if(c.length!==n.arguments.length)throw new Error("Incorrect number of arguments.");c.forEach(((e,r)=>{const s=n.arguments[r];if("Input"!==s.kind)return;const a=t[s.index];if((0,qi.is)(a.value,xs))return;const o=a.value,c=zs(e,o);if(c)return void(a.value=Rs.Pure(o,c));if(!(null!=Jn(e)||"object"===typeof e&&"TypeParameter"in e))throw new Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(o,null,2)}`);if("string"!==typeof o)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(o,null,2)}`);i.push({id:o,input:a,normalizedType:e})}))}))),i.length){const t=[...new Set(i.map((({id:e})=>e)))],n=(s=t,a=50,Array.from({length:Math.ceil(s.length/a)},((e,t)=>s.slice(t*a,t*a+a)))),r=(await Promise.all(n.map((t=>sa(e).multiGetObjects({ids:t,options:{showOwner:!0}}))))).flat();let o=new Map(t.map(((e,t)=>[e,r[t]])));const c=Array.from(o).filter((([e,t])=>t.error)).map((([e,t])=>e));if(c.length)throw new Error(`The following input objects are not invalid: ${c.join(", ")}`);i.forEach((({id:e,input:t,normalizedType:n})=>{const r=o.get(e),i=ve(r);if(i){const r=Us(t.value)||null!=n&&null!=Ln(n);t.value=Rs.SharedObjectRef({objectId:e,initialSharedVersion:i,mutable:r})}else t.value=Rs.ObjectRef(pe(r))}))}var s,a},ba=new WeakSet,ya=async function({provider:e,onlyTransactionKind:t}){if(!t&&!p(this,aa).sender)throw new Error("Missing transaction sender");if(await Promise.all([y(this,da,ga).call(this,{provider:e,onlyTransactionKind:t}),y(this,pa,ha).call(this,e)]),!t&&(await y(this,ua,la).call(this,{provider:e,onlyTransactionKind:t}),!p(this,aa).gasConfig.budget)){const t=await sa(e).dryRunTransactionBlock({transactionBlock:p(this,aa).build({overrides:{gasConfig:{budget:String(5e10),payment:[]}}})});if("success"!==t.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});const n=ma*BigInt(this.blockData.gasConfig.price||1n),r=BigInt(t.effects.gasUsed.computationCost)+n,i=r+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);this.setGasBudget(i>r?i:r)}};var va=n(20962),Ta=(0,va.object)({currentTps:(0,va.number)(),tps30Days:(0,va.number)(),currentCheckpoint:(0,va.string)(),currentEpoch:(0,va.string)(),totalAddresses:(0,va.string)(),totalObjects:(0,va.string)(),totalPackages:(0,va.string)()}),ja=n(21990),ka={socketOptions:Bi,versionCacheTimeoutInSeconds:600},Ea=class{constructor(e=Ui,t=ka){this.options=t,this.connection=e;const n={...ka,...t};this.options=n,this.client=n.rpcClient??new wi(this.connection.fullnode),this.wsClient=n.websocketClient??new Pi(this.connection.websocket,n.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{const e=await this.client.requestWithType("rpc.discover",[],(0,Ri.any)());return this.rpcApiVersion=e.info.version,this.cacheExpiry=Date.now()+1e3*(this.options.versionCacheTimeoutInSeconds??0),this.rpcApiVersion}catch(e){console.warn("Error fetching version number of the RPC API",e)}}async requestSuiFromFaucet(e,t){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return _i(this.connection.faucet,e,t)}async getCoins(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[e.owner,e.coinType,e.cursor,e.limit],br)}async getAllCoins(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[e.owner,e.cursor,e.limit],br)}async getBalance(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[e.owner,e.coinType],yr)}async getAllBalances(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[e.owner],(0,Ri.array)(yr))}async getCoinMetadata(e){return await this.client.requestWithType("suix_getCoinMetadata",[e.coinType],hn)}async getTotalSupply(e){return await this.client.requestWithType("suix_getTotalSupply",[e.coinType],fr)}async call(e,t){const n=await this.client.request(e,t);if((0,Ri.is)(n,Si))throw new bi({req:{method:e,args:t},code:n.error.code,data:n.error.data,cause:new Error(n.error.message)});return n.result}async getMoveFunctionArgTypes(e){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[e.package,e.module,e.function],Bn)}async getNormalizedMoveModulesByPackage(e){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[e.package],$n)}async getNormalizedMoveModule(e){return await this.client.requestWithType("sui_getNormalizedMoveModule",[e.package,e.module],Gn)}async getNormalizedMoveFunction(e){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[e.package,e.module,e.function],qn)}async getNormalizedMoveStruct(e){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[e.package,e.module,e.struct],Wn)}async getOwnedObjects(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],Ae)}async getObject(e){if(!e.id||!N(K(e.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[e.id,e.options],ue)}async multiGetObjects(e){e.ids.forEach((e=>{if(!e||!N(K(e)))throw new Error(`Invalid Sui Object id ${e}`)}));if(e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[e.ids,e.options],(0,Ri.array)(ue))}async queryTransactionBlocks(e){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")],jt)}async getTransactionBlock(e){if(!R(e.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[e.digest,e.options],vt)}async multiGetTransactionBlocks(e){e.digests.forEach((e=>{if(!R(e))throw new Error(`Invalid Transaction digest ${e}`)}));if(e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[e.digests,e.options],(0,Ri.array)(vt))}async executeTransactionBlock(e){return await this.client.requestWithType("sui_executeTransactionBlock",["string"===typeof e.transactionBlock?e.transactionBlock:(0,Mi.toB64)(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType],vt)}async getTotalTransactionBlocks(){const e=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],(0,Ri.string)());return BigInt(e)}async getReferenceGasPrice(){const e=await this.client.requestWithType("suix_getReferenceGasPrice",[],(0,Ri.string)());return BigInt(e)}async getStakes(e){if(!e.owner||!D(U(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[e.owner],(0,Ri.array)(er))}async getStakesByIds(e){return e.stakedSuiIds.forEach((e=>{if(!e||!N(K(e)))throw new Error(`Invalid Sui Stake id ${e}`)})),await this.client.requestWithType("suix_getStakesByIds",[e.stakedSuiIds],(0,Ri.array)(er))}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],gr)}async queryEvents(e){return await this.client.requestWithType("suix_queryEvents",[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")],Re)}async subscribeEvent(e){return this.wsClient.subscribeEvent(e.filter,e.onMessage)}async unsubscribeEvent(e){return this.wsClient.unsubscribeEvent(e.id)}async devInspectTransactionBlock(e){let t;if(wa.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=(0,Mi.toB64)(await e.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if("string"===typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=(0,Mi.toB64)(e.transactionBlock)}return await this.client.requestWithType("sui_devInspectTransactionBlock",[e.sender,t,e.gasPrice,e.epoch],lt)}async dryRunTransactionBlock(e){return await this.client.requestWithType("sui_dryRunTransactionBlock",["string"===typeof e.transactionBlock?e.transactionBlock:(0,Mi.toB64)(e.transactionBlock)],kt)}async getDynamicFields(e){if(!e.parentId||!N(K(e.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[e.parentId,e.cursor,e.limit],Ei)}async getDynamicFieldObject(e){return await this.client.requestWithType("suix_getDynamicFieldObject",[e.parentId,e.name],ue)}async getLatestCheckpointSequenceNumber(){const e=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],(0,Ri.string)());return String(e)}async getCheckpoint(e){return await this.client.requestWithType("sui_getCheckpoint",[e.id],Or)}async getCheckpoints(e){const t=await this.getRpcApiVersion();return await this.client.requestWithType("sui_getCheckpoints",[e.cursor,t&&(0,ja.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e.descendingOrder],Br)}async getCommitteeInfo(e){return await this.client.requestWithType("suix_getCommitteeInfo",[e?.epoch],lr)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],Ta)}async getEpochs(e){const t=await this.getRpcApiVersion();return await this.client.requestWithType("suix_getEpochs",[e?.cursor,t&&(0,ja.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e?.descendingOrder],vr)}async getMoveCallMetrics(){return await this.client.requestWithType("suix_getMoveCallMetrics",[],Dn)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],wr)}async getValidatorsApy(){return await this.client.requestWithType("suix_getValidatorsApy",[],Xn)}async waitForTransactionBlock({signal:e,timeout:t=6e4,pollInterval:n=2e3,...r}){const i=AbortSignal.timeout(t),s=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(i.reason)))}));for(;!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(r)}catch(a){await Promise.race([new Promise((e=>setTimeout(e,n))),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}},Ca=n(45808),Ia=n(76990),Oa=(e=>(e[e.Sui=0]="Sui",e))(Oa||{}),Ba=(e=>(e[e.V0=0]="V0",e))(Ba||{}),Aa=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(Aa||{});function Pa(e,t){const n=function(e){return[e,0,0]}(e),r=new Uint8Array(n.length+t.length);return r.set(n),r.set(t,n.length),r}var _a=class{async requestSuiFromFaucet(e){return this.provider.requestSuiFromFaucet(await this.getAddress(),e)}constructor(e){this.provider=e}async signMessage(e){const t=await this.signData(Pa(3,e.message));return{messageBytes:(0,Ia.toB64)(e.message),signature:t}}async signTransactionBlock(e){let t;if(wa.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction format");t=e.transactionBlock}const n=Pa(0,t),r=await this.signData(n);return{transactionBlockBytes:(0,Ia.toB64)(t),signature:r}}async signAndExecuteTransactionBlock(e){const{transactionBlockBytes:t,signature:n}=await this.signTransactionBlock({transactionBlock:e.transactionBlock});return await this.provider.executeTransactionBlock({transactionBlock:t,signature:n,options:e.options,requestType:e.requestType})}async getTransactionBlockDigest(e){if(wa.is(e))return e.setSenderIfNotSet(await this.getAddress()),e.getDigest({provider:this.provider});if(e instanceof Uint8Array)return ia.getDigestFromBytes(e);throw new Error("Unknown transaction format.")}async devInspectTransactionBlock(e){const t=await this.getAddress();return this.provider.devInspectTransactionBlock({sender:t,...e})}async dryRunTransactionBlock(e){let t;if(wa.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else if("string"===typeof e.transactionBlock)t=(0,Ia.fromB64)(e.transactionBlock);else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction format");t=e.transactionBlock}return this.provider.dryRunTransactionBlock({transactionBlock:t})}async getGasCostEstimation(...e){const t=Wt((await this.dryRunTransactionBlock(...e)).effects);if("undefined"===typeof t)throw new Error("Failed to estimate the gas cost from transaction");return t}},xa=class extends _a{constructor(e,t){super(t),this.keypair=e}async getAddress(){return this.keypair.getPublicKey().toSuiAddress()}async signData(e){const t=this.keypair.getPublicKey(),n=(0,Ca.blake2b)(e,{dkLen:32}),r=this.keypair.signData(n);return Mr({signatureScheme:this.keypair.getKeyScheme(),signature:r,pubKey:t})}connect(e){return new xa(this.keypair,e)}};function Ra(e){const t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}\u2026${e.slice(-4)}`}function Ma(e){return`${e.slice(0,10)}\u2026`}var Da=n(76990),Na=d(n(50780)),Ua=n(89132),Ka=n(23594),Va=n(45808);async function qa(e,t,n){const r=Dr(t),i=Pa(n,"string"===typeof e?(0,Da.fromB64)(e):e),s=(0,Va.blake2b)(i,{dkLen:32});switch(r.signatureScheme){case"ED25519":return Na.default.sign.detached.verify(s,r.signature,r.pubKey.toBytes());case"Secp256k1":return Ua.secp256k1.verify(Ua.secp256k1.Signature.fromCompact(r.signature),(0,Ka.sha256)(s),r.pubKey.toBytes());default:throw new Error(`Unknown signature scheme: "${r.signatureScheme}"`)}}var Fa=K("0x5"),Wa="sui_system",Ga="request_add_stake",$a="request_add_stake_with_locked_coin",La="request_withdraw_stake",za=class{static async newRequestAddStakeTxn(e,t,n,r){const i=new wa,s=i.splitCoins(i.gas,[i.pure(n)]);i.moveCall({target:`${Qt}::${Wa}::${Ga}`,arguments:[i.object(Fa),s,i.pure(r)]});const a=await e.multiGetObjects({ids:t,options:{showOwner:!0}});return i.setGasPayment(a.map((e=>pe(e)))),i}static async newRequestWithdrawlStakeTxn(e,t){const n=new wa;return n.moveCall({target:`${Qt}::${Wa}::${La}`,arguments:[n.object(Fa),n.object(e),n.object(t)]}),n}},Ja=n(76990),Ya=n(20962)}}]);